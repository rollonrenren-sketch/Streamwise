<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>MyMovie Stream</title>
  <link rel="stylesheet" href="home.css">
</head>
<body>
  <header>
    <div class="hero">
      <h1>Welcome to MyMovie Stream</h1>
      <p>Stream movies instantly, free and worldwide.</p>
    </div>
    <nav>
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">Movies</a></li>
        <li><a href="#">Live TV</a></li>
        <li><a href="#">Music</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="search-bar">
      <input type="text" id="searchInput" placeholder="Search for movies (IMDb ID or Title)">
      <button onclick="playMovie()">Play</button>
    </section>

    <section class="player-section">
      <div id="playerContainer">
        <!-- Movie player will be inserted here -->
      </div>
    </section>

    <section class="features">
      <h2>Why Choose MyMovie Stream?</h2>
      <ul>
        <li>Global free streaming</li>
        <li>No subscription required</li>
        <li>Sync watching across devices</li>
        <li>Curated movie recommendations</li>
        <li>Multiple fast streaming servers</li>
      </ul>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 MyMovie Stream. Powered by vidsrc.to, embed.su, moviesapi.to, autoembed.cc.</p>
  </footer>

  <script>
    const apiList = [
      {name: "vidsrc.to", url: "https://vidsrc.to/embed/movie/"},
      {name: "embed.su", url: "https://embed.su/movie/"},
      {name: "moviesapi.to", url: "https://moviesapi.to/movie/"},
      {name: "autoembed.cc", url: "https://autoembed.cc/movie/"}
    ];
    const apiKey = "f27081ffd1178848ff5106836b2adc93";

    function playMovie() {
      const input = document.getElementById('searchInput').value.trim();
      let embedUrl = "";
      // Assumes IMDb ID input (ttxxxxxxx)
      if (input.startsWith('tt')) {
        // Vidsrc.to as default, fallback order
        embedUrl = ${apiList[0].url}${input}?api_key=${apiKey};
      } else {
        // If not IMDb ID, try embed.su or fallback APIs
        embedUrl = ${apiList[1].url}${encodeURIComponent(input)}?api_key=${apiKey};
      }
      // Render the iframe
      document.getElementById('playerContainer').innerHTML =
        `<iframe src="${embedUrl}"
          width="100%" height="500" frameborder="0"
          allowfullscreen allow="autoplay; encrypted-media"></iframe>`;
    }
  </script>
</body>
</html>
