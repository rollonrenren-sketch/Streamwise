<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Movie Website Home</title>
  <link rel="stylesheet" href="home.css" />
</head>
<body>
  <header>
    <h1>Trending Movies</h1>
    <input type="text" id="search" placeholder="Search movies..." />
  </header>
  <main id="movie-list" class="movie-grid"></main>

  <script>
    const apiKey = 'f27081ffd1178848ff5106836b2adc93'; // Your TMDb API key
    const movieList = document.getElementById('movie-list');
    const searchInput = document.getElementById('search');

    async function fetchTrending() {
      const response = await fetch(
        `https://api.themoviedb.org/3/trending/movie/week?api_key=${apiKey}`
      );
      const data = await response.json();
      displayMovies(data.results);
    }

    function displayMovies(movies) {
      movieList.innerHTML = movies
        .map(
          (movie) => `
        <div class="movie-item">
          <img src="https://image.tmdb.org/t/p/w300${movie.poster_path}" alt="${movie.title}" />
          <h3>${movie.title}</h3>
          <p>Rating: ${movie.vote_average}</p>
        </div>
      `
        )
        .join('');
    }

    async function searchMovies(query) {
      if (!query) {
        fetchTrending();
        return;
      }
      const response = await fetch(
        `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${encodeURIComponent(query)}`
      );
      const data = await response.json();
      displayMovies(data.results);
    }

    searchInput.addEventListener('input', (e) => {
      searchMovies(e.target.value);
    });

    // Initial load
    fetchTrending();
  </script>
</body>
</html>
